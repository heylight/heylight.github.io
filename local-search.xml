<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>mark-image</title>
    <link href="/2021/01/21/mark-image/"/>
    <url>/2021/01/21/mark-image/</url>
    
    <content type="html"><![CDATA[<h1 id="mark-image-图片标注插件"><a href="#mark-image-图片标注插件" class="headerlink" title="mark-image 图片标注插件"></a>mark-image 图片标注插件</h1><p>基于 canvas 进行图片标注，独立 umd 模块，轻量(13kb)不依赖第三方库</p><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><ol><li>鼠标左键拖动开始标注</li><li>滚轮缩放标注画布</li><li>鼠标右键移动拖动画布</li><li>选中标注框，方向键位移</li></ol><p><img src="/images/demo.png"></p><h2 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h2><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;mark-image.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  <span class="hljs-keyword">var</span> markImage = <span class="hljs-keyword">new</span> MarkImage(&#123;</span><span class="javascript">    el: <span class="hljs-string">&quot;.container&quot;</span>,</span><span class="javascript">    imageSrc: <span class="hljs-string">&quot;./test1.jpg&quot;</span>,</span>  &#125;);<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><pre><code class="hljs js"><span class="hljs-keyword">import</span> MarkImage <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mark-image&quot;</span>;<span class="hljs-comment">// ...</span></code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> markImage = <span class="hljs-keyword">new</span> MarkImage(&#123;  el: <span class="hljs-string">&quot;.container&quot;</span>, <span class="hljs-comment">// 挂载节点 document.querySelector()参数</span>  imageSrc: <span class="hljs-string">&quot;./source.jpg&quot;</span>, <span class="hljs-comment">// 引入需要标注的图片</span>  data: [    <span class="hljs-comment">// 初始化默认的标注位置</span>    [<span class="hljs-number">461</span>, <span class="hljs-number">348</span>, <span class="hljs-number">573</span>, <span class="hljs-number">467</span>],    [<span class="hljs-number">922</span>, <span class="hljs-number">351</span>, <span class="hljs-number">1019</span>, <span class="hljs-number">469</span>],    [<span class="hljs-number">683</span>, <span class="hljs-number">51</span>, <span class="hljs-number">792</span>, <span class="hljs-number">162</span>],    [<span class="hljs-number">31</span>, <span class="hljs-number">663</span>, <span class="hljs-number">187</span>, <span class="hljs-number">799</span>],    [<span class="hljs-number">656</span>, <span class="hljs-number">677</span>, <span class="hljs-number">797</span>, <span class="hljs-number">812</span>],    [<span class="hljs-number">41</span>, <span class="hljs-number">139</span>, <span class="hljs-number">173</span>, <span class="hljs-number">244</span>],    [<span class="hljs-number">842</span>, <span class="hljs-number">682</span>, <span class="hljs-number">991</span>, <span class="hljs-number">846</span>],  ],  lock: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 是否禁用标注</span>  label: &#123;    show: <span class="hljs-literal">true</span>,    stroke: <span class="hljs-string">&quot;#000&quot;</span>,    fill: <span class="hljs-string">&quot;#fac031&quot;</span>,  &#125;,  pixel: &#123;    <span class="hljs-comment">// 标注像素</span>    show: <span class="hljs-literal">true</span>,    fill: <span class="hljs-string">&quot;rgba(0,0,0,0.6)&quot;</span>,  &#125;,  limitSize: &#123;    <span class="hljs-comment">// 最小标注尺寸</span>    minWidth: <span class="hljs-number">10</span>,    minHeight: <span class="hljs-number">10</span>,  &#125;,  activeRect: &#123;    <span class="hljs-comment">// 活动选框样式</span>    stroke: <span class="hljs-string">&quot;#67C23A&quot;</span>,    lineDash: [<span class="hljs-number">4</span>, <span class="hljs-number">2</span>],    lineDashOffset: <span class="hljs-number">2</span>,  &#125;,  rect: &#123;    <span class="hljs-comment">// 已选标注框样式</span>    fill: <span class="hljs-string">&quot;rgba(247,200,4,0.2)&quot;</span>,    stroke: <span class="hljs-string">&quot;rgba(247,200,4,1)&quot;</span>,  &#125;,  <span class="hljs-function"><span class="hljs-title">onload</span>(<span class="hljs-params"></span>)</span> &#123;&#125;, <span class="hljs-comment">// 图片加载完成</span>  <span class="hljs-function"><span class="hljs-title">onselect</span>(<span class="hljs-params">index, coor</span>)</span> &#123;    <span class="hljs-comment">// 输出当前选中的标注矩形，参数 index为索引,coor为坐标</span>    <span class="hljs-built_in">console</span>.log(index, coor);  &#125;,  <span class="hljs-function"><span class="hljs-title">onresult</span>(<span class="hljs-params">list</span>)</span> &#123;    <span class="hljs-comment">// 输出标注的矩形列表，也可以直接通过markImage.dataset获取</span>    <span class="hljs-built_in">console</span>.log(list);  &#125;,&#125;);<span class="hljs-comment">/**</span><span class="hljs-comment"> * 方法</span><span class="hljs-comment"> *</span><span class="hljs-comment">// 放大</span><span class="hljs-comment">markImage.zoomIn();</span><span class="hljs-comment">// 缩小</span><span class="hljs-comment">markImage.zoomOut();</span><span class="hljs-comment">// 适配</span><span class="hljs-comment">markImage.fitting();</span><span class="hljs-comment">// 删除</span><span class="hljs-comment">markImage.remove(index);</span></code></pre>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/01/21/hello-world/"/>
    <url>/2021/01/21/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="hljs bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="hljs bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="hljs bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
